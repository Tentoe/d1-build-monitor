#include <Arduino.h>
#include <string>
#include "pitches.h"

const int BUZZER_PIN = D5;

std::vector<std::vector<int>> axel = {
    {659, 428},
    {493, 214},
    {523, 214},
    {587, 214},
    {659, 107},
    {587, 107},
    {523, 214},
    {493, 214},
    {440, 428},
    {440, 214},
    {523, 214},
    {659, 428},
    {587, 214},
    {523, 214},
    {493, 642},
    {523, 214},
    {587, 428},
    {659, 428},
    {523, 428},
    {440, 428},
    {440, 857},
    {0, 214},
    {587, 428},
    {698, 214},
    {880, 428},
    {783, 214},
    {698, 214},
    {659, 642},
    {523, 214},
    {659, 428},
    {587, 214},
    {523, 214},
    {493, 428},
    {493, 214},
    {523, 214},
    {587, 428},
    {659, 428},
    {523, 428},
    {440, 428},
    {440, 428},
    {0, 428},
    {659, 428},
    {493, 214},
    {523, 214},
    {587, 214},
    {659, 107},
    {587, 107},
    {523, 214},
    {493, 214},
    {440, 428},
    {440, 214},
    {523, 214},
    {659, 428},
    {587, 214},
    {523, 214},
    {493, 642},
    {523, 214},
    {587, 428},
    {659, 428},
    {523, 428},
    {440, 428},
    {440, 857},
    {0, 214},
    {587, 428},
    {698, 214},
    {880, 428},
    {783, 214},
    {698, 214},
    {659, 642},
    {523, 214},
    {659, 428},
    {587, 214},
    {523, 214},
    {493, 428},
    {493, 214},
    {523, 214},
    {587, 428},
    {659, 428},
    {523, 428},
    {440, 428},
    {440, 428},
    {0, 428},
    {329, 857},
    {261, 857},
    {293, 857},
    {246, 857},
    {261, 857},
    {220, 857},
    {207, 857},
    {246, 428},
    {0, 428},
    {329, 857},
    {261, 857},
    {293, 857},
    {246, 857},
    {261, 428},
    {329, 428},
    {440, 857},
    {415, 857},
    {0, 857}};

void playSong(std::vector<std::vector<int>> song)
{
  for (unsigned int note = 0; note < song.size(); note++)
  {
    int noteDuration = song[note][1];
    tone(BUZZER_PIN, song[note][0], noteDuration);
    delay(noteDuration);
    noTone(BUZZER_PIN);
  }
}

void setup()
{
  Serial.begin(9600);
  Serial.println("Serial.begin");
}

int count = 0;

void loop()
{
  Serial.println(String(count));
  count++;
  delay(1000);
  playSong(axel);
}
